<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Produto</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6">
    <div class="max-w-4xl mx-auto bg-white p-6 rounded-lg shadow">
        <h1 class="text-2xl font-bold mb-6">Cadastro de Produto</h1>

        <!-- Upload de imagem -->
        <label class="block mb-4">
            <span class="font-semibold">Imagem do produto</span>
            <input type="file" class="mt-2 block w-full border rounded p-2">
        </label>

        <!-- Título -->
        <label class="block mb-4">
            <span class="font-semibold">Título do produto</span>
            <input type="text" class="mt-2 block w-full border rounded p-2" placeholder="Digite o título">
        </label>

        <!-- Resumo -->
        <label class="block mb-4">
            <span class="font-semibold">Resumo do produto</span>
            <textarea class="mt-2 block w-full border rounded p-2" placeholder="Resumo básico"></textarea>
        </label>

        <!-- Categoria -->
        <label class="block mb-4">
            <span class="font-semibold">Tipo de pet</span>
            <select class="mt-2 block w-full border rounded p-2">
                <option>Cachorro</option>
                <option>Gato</option>
                <option>Pássaro</option>
                <option>Hamster</option>
            </select>
        </label>

        <!-- Preço Base + Peso -->
        <div class="mb-4">
            <span class="font-semibold">Preço base e peso</span>
            <div class="flex gap-4 mt-2">
                <input type="number" id="precoBase" class="border rounded p-2 w-1/2" placeholder="Preço base">
                <input type="number" id="pesoBase" class="border rounded p-2 w-1/2" placeholder="Peso (kg)">
            </div>
            <p class="text-sm text-gray-500 mt-1">Preço usado para calcular o desconto máximo de 15%.</p>
            <p class="mt-2 font-semibold">Preço com 15% off: R$ <span id="precoDesconto">0,00</span></p>
        </div>

        <!-- Lista de tamanhos -->
        <div class="mb-4">
            <div class="flex justify-between items-center mb-2">
                <span class="font-semibold">Tamanhos / Pacotes</span>
                <button id="addTamanho" class="bg-blue-500 text-white px-4 py-1 rounded">+ Adicionar tamanho</button>
            </div>
            <div id="listaTamanhos" class="space-y-2"></div>
        </div>

        <!-- Informações -->
        <label class="block mb-4">
            <span class="font-semibold">Informações</span>
            <textarea class="mt-2 block w-full border rounded p-2"></textarea>
        </label>

        <!-- Dicas -->
        <label class="block mb-4">
            <span class="font-semibold">Dicas</span>
            <textarea class="mt-2 block w-full border rounded p-2"></textarea>
        </label>

        <!-- Comparação -->
        <label class="block mb-4">
            <span class="font-semibold">Especifícações</span>
            <textarea class="mt-2 block w-full border rounded p-2"></textarea>
        </label>
    </div>

    <script>
        const precoBaseEl = document.getElementById('precoBase');
        const precoDescEl = document.getElementById('precoDesconto');
        precoBaseEl.addEventListener('input', () => {
            const preco = parseFloat(precoBaseEl.value) || 0;
            precoDescEl.textContent = (preco * 0.85).toFixed(2);
        });

        const listaTamanhos = document.getElementById('listaTamanhos');
        document.getElementById('addTamanho').addEventListener('click', () => {
            const div = document.createElement('div');
            div.className = 'flex gap-2 items-center border p-2 rounded';
            div.innerHTML = `
                <input type="number" step="0.01" placeholder="Peso (kg)" class="border p-2 rounded w-1/3">
                <input type="number" step="0.01" placeholder="Preço do pacote" class="border p-2 rounded w-1/3">
                <span class="font-semibold w-1/3">Preço/kg: R$ 0,00</span>
                <button class="bg-red-500 text-white px-3 py-1 rounded">Remover</button>
            `;

            const pesoInput = div.querySelector('input[placeholder="Peso (kg)"]');
            const precoInput = div.querySelector('input[placeholder="Preço do pacote"]');
            const precoKgSpan = div.querySelector('span');

            function atualizarPrecoKg() {
                const peso = parseFloat(pesoInput.value) || 0;
                const preco = parseFloat(precoInput.value) || 0;
                precoKgSpan.textContent = `Preço/kg: R$ ${(peso > 0 ? preco / peso : 0).toFixed(2)}`;
            }

            pesoInput.addEventListener('input', atualizarPrecoKg);
            precoInput.addEventListener('input', atualizarPrecoKg);

            div.querySelector('button').addEventListener('click', () => {
                div.remove();
            });

            listaTamanhos.appendChild(div);
        });
    </script>
</body>
</html>
