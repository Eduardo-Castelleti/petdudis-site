<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Produto</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen py-10">
    <div class="max-w-5xl mx-auto bg-white p-8 rounded-2xl shadow-lg">
        <h1 class="text-3xl font-bold mb-8 text-center">Cadastro de Produto</h1>

        <div class="grid md:grid-cols-2 gap-8">
            <!-- Coluna Esquerda -->
            <div class="space-y-6">
                <!-- Upload de imagem -->
                <div>
                    <label class="block font-semibold mb-2">Imagem do produto</label>
                    <input type="file" class="w-full border border-gray-300 rounded-lg p-3 shadow-sm">
                </div>

                <!-- Título -->
                <div>
                    <label class="block font-semibold mb-2">Título do produto</label>
                    <input type="text" class="w-full border border-gray-300 rounded-lg p-3 shadow-sm" placeholder="Digite o título">
                </div>

                <!-- Resumo -->
                <div>
                    <label class="block font-semibold mb-2">Resumo do produto</label>
                    <textarea class="w-full border border-gray-300 rounded-lg p-3 shadow-sm" placeholder="Resumo básico"></textarea>
                </div>

                <!-- Categoria -->
                <div>
                    <label class="block font-semibold mb-2">Tipo de pet</label>
                    <select class="w-full border border-gray-300 rounded-lg p-3 shadow-sm">
                        <option>Cachorro</option>
                        <option>Gato</option>
                        <option>Pássaro</option>
                        <option>Hamster</option>
                    </select>
                </div>
            </div>

            <!-- Coluna Direita -->
            <div class="space-y-6">
                <!-- Preço Base + Peso -->
                <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
                    <label class="block font-semibold mb-2">Preço base e peso</label>
                    <div class="flex gap-4">
                        <input type="number" id="precoBase" class="border border-gray-300 rounded-lg p-3 w-1/3" placeholder="Preço base">
                        <input type="number" id="pesoBase" class="border border-gray-300 rounded-lg p-3 w-1/3" placeholder="Peso">
                        <select id="unidadeBase" class="border border-gray-300 rounded-lg p-3 w-1/3">
                            <option value="kg">kg</option>
                            <option value="g">g</option>
                            <option value="ml">ml</option>
                            <option value="l">L</option>
                        </select>
                    </div>
                    <p class="text-sm text-gray-500 mt-2">Preço usado para calcular o desconto máximo de 15%.</p>
                    <p class="mt-3 font-semibold text-lg">Preço com 15% off: R$ <span id="precoDesconto">0,00</span></p>
                </div>

                <!-- Lista de tamanhos -->
                <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
                    <div class="flex justify-between items-center mb-3">
                        <span class="font-semibold text-lg">Tamanhos / Pacotes</span>
                        <button id="addTamanho" class="bg-blue-500 hover:bg-blue-600 transition text-white px-4 py-2 rounded-lg shadow">
                            + Adicionar tamanho
                        </button>
                    </div>
                    <div id="listaTamanhos" class="space-y-3"></div>
                </div>
            </div>
        </div>

        <!-- Informações -->
        <div class="mt-8 space-y-6">
            <div>
                <label class="block font-semibold mb-2">Informações</label>
                <textarea class="w-full border border-gray-300 rounded-lg p-3 shadow-sm"></textarea>
            </div>

            <div>
                <label class="block font-semibold mb-2">Especificações</label>
                <textarea class="w-full border border-gray-300 rounded-lg p-3 shadow-sm"></textarea>
            </div>

            <div>
                <label class="block font-semibold mb-2">Dicas</label>
                <textarea class="w-full border border-gray-300 rounded-lg p-3 shadow-sm"></textarea>
            </div>
        </div>
    </div>

    <!-- Botão Cadastrar Produto -->
    <div class="form-actions">
        <button type="submit" class="btn-submit">Cadastrar Produto</button>
    </div>

<style>
    .form-actions {
        text-align: center;
        margin-top: 30px;
        margin-bottom: 40px;
    }

    .btn-submit {
        background: linear-gradient(135deg, #6a5acd, #483d8b);
        color: white;
        border: none;
        padding: 15px 40px;
        font-size: 1.2em;
        font-weight: bold;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .btn-submit:hover {
        background: linear-gradient(135deg, #7b68ee, #5f4bb6);
        transform: scale(1.03);
        box-shadow: 0 6px 12px rgba(0,0,0,0.25);
    }
</style>

<script>
    const precoBaseEl = document.getElementById('precoBase');
    const precoDescEl = document.getElementById('precoDesconto');
    precoBaseEl.addEventListener('input', () => {
        const preco = parseFloat(precoBaseEl.value) || 0;
        precoDescEl.textContent = (preco * 0.85).toFixed(2);
    });

    const listaTamanhos = document.getElementById('listaTamanhos');
    document.getElementById('addTamanho').addEventListener('click', () => {
        const pesoBase = parseFloat(document.getElementById('pesoBase').value) || 0;
        const precoBase = parseFloat(document.getElementById('precoBase').value) || 0;
        const unidadeBase = document.getElementById('unidadeBase').value;

        if (!pesoBase || !precoBase) {
            alert("Preencha peso e preço base antes de adicionar!");
            return;
        }

        const div = document.createElement('div');
        div.className = 'flex flex-wrap md:flex-nowrap gap-2 items-center border border-gray-300 p-3 rounded-lg shadow-sm bg-white';

        div.innerHTML = `
            <input type="number" step="0.01" value="${pesoBase}" class="border border-gray-300 p-2 rounded-lg w-full md:w-1/4">
            <select class="border border-gray-300 p-2 rounded-lg w-full md:w-1/6">
                <option value="kg" ${unidadeBase === 'kg' ? 'selected' : ''}>kg</option>
                <option value="g" ${unidadeBase === 'g' ? 'selected' : ''}>g</option>
                <option value="ml" ${unidadeBase === 'ml' ? 'selected' : ''}>ml</option>
                <option value="l" ${unidadeBase === 'l' ? 'selected' : ''}>L</option>
            </select>
            <input type="number" step="0.01" value="${precoBase}" class="border border-gray-300 p-2 rounded-lg w-full md:w-1/4">
            <span class="font-semibold w-full md:w-1/4 text-gray-700">Preço/${unidadeBase}: R$ ${(precoBase / pesoBase).toFixed(2)}</span>
            <button class="bg-red-500 hover:bg-red-600 transition text-white px-3 py-2 rounded-lg shadow w-full md:w-auto">Remover</button>
        `;

        const pesoInput = div.querySelector('input[type="number"]');
        const unidadeSelect = div.querySelector('select');
        const precoInput = div.querySelectorAll('input[type="number"]')[1];
        const precoKgSpan = div.querySelector('span');

        function atualizarPreco() {
            const peso = parseFloat(pesoInput.value) || 0;
            const preco = parseFloat(precoInput.value) || 0;
            const unidade = unidadeSelect.value;
            precoKgSpan.textContent = `Preço/${unidade}: R$ ${(peso > 0 ? preco / peso : 0).toFixed(2)}`;
        }

        pesoInput.addEventListener('input', atualizarPreco);
        precoInput.addEventListener('input', atualizarPreco);
        unidadeSelect.addEventListener('change', atualizarPreco);

        div.querySelector('button').addEventListener('click', () => {
            div.remove();
        });

        listaTamanhos.appendChild(div);
    });
</script>
</body>
</html>
